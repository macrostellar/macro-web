{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sarahasif/Documents/Software%20Codes/my-tracking%20app/app/%28dashboard%29/global-vehicles/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Search, Plus } from \"lucide-react\";\nimport { supabase } from \"../../../lib/supabase\";\nimport { useRouter } from \"next/navigation\";\nimport { useDrivers } from \"../../../contexts/DriverContext\";\nimport { Database } from \"@/lib/database.types\";\n\nexport default function GlobalVehiclesPage() {\n  const router = useRouter();\n  const { getDriver } = useDrivers();\n  const [vehicles, setVehicles] = useState<Database[\"public\"][\"Tables\"][\"vehicles\"][\"Row\"][]>([]);\n  const [filteredVehicles, setFilteredVehicles] = useState<Database[\"public\"][\"Tables\"][\"vehicles\"][\"Row\"][]>([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n  const [typeFilter, setTypeFilter] = useState<string>(\"all\");\n  const [loading, setLoading] = useState(true);\n\n  const fetchAllVehicles = async () => {\n    // Fetch ALL vehicles from all users\n    const { data, error } = await supabase\n      .from(\"vehicles\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false });\n      console.log(\"Supabase error:\", error);\n    if (data && !error) {\n      setVehicles(data);\n      setFilteredVehicles(data);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchAllVehicles();\n  }, []);\n\n  useEffect(() => {\n    let filtered = vehicles;\n\n    if (searchTerm) {\n      filtered = filtered.filter(\n        (v) =>\n          (v.tracker_id?.toLowerCase() || \"\").includes(searchTerm.toLowerCase()) ||\n          (v.registration_number?.toLowerCase() || \"\").includes(searchTerm.toLowerCase()) ||\n          (v.brand?.toLowerCase() || \"\").includes(searchTerm.toLowerCase()) ||\n          (v.model?.toLowerCase() || \"\").includes(searchTerm.toLowerCase())\n      );\n    }\n\n    if (statusFilter !== \"all\") {\n      filtered = filtered.filter((v) => v.status === statusFilter);\n    }\n\n    if (typeFilter !== \"all\") {\n      filtered = filtered.filter((v) => v.vehicle_type === typeFilter);\n    }\n\n    setFilteredVehicles(filtered);\n  }, [searchTerm, statusFilter, typeFilter, vehicles]);\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"online\":\n        return \"bg-green-500/10 text-green-400 border-green-500/30\";\n      case \"in_motion\":\n        return \"bg-blue-500/10 text-blue-400 border-blue-500/30\";\n      case \"parked\":\n        return \"bg-slate-500/10 text-slate-400 border-slate-500/30\";\n      case \"alert\":\n        return \"bg-red-500/10 text-red-400 border-red-500/30\";\n      default:\n        return \"bg-slate-500/10 text-slate-400 border-slate-500/30\";\n    }\n  };\n  console.log(\"Vehicle:\", vehicles);\nconsole.log(\"Error occurred?\");\n\n  if (loading) {\n    return (\n      <div>\n        <div className=\"p-8 flex items-center justify-center h-screen\">\n          <div className=\"text-slate-400\">Loading...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"p-8\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-white\">Global Vehicles</h1>\n            <p className=\"text-slate-400 mt-2\">\n              All vehicles connected to the platform\n            </p>\n          </div>\n        </div>\n\n        <div className=\"bg-slate-800 border border-slate-700 rounded-xl p-6 mb-6\">\n          <div className=\"flex flex-col gap-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-500\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by name, tracker ID, or registration...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500\"\n              />\n            </div>\n\n            <div className=\"flex gap-4\">\n              <select\n                value={statusFilter}\n                onChange={(e) => setStatusFilter(e.target.value)}\n                className=\"flex-1 px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white\"\n              >\n                <option value=\"all\">All Status</option>\n                <option value=\"online\">Online</option>\n                <option value=\"in_motion\">In Motion</option>\n                <option value=\"parked\">Parked</option>\n                <option value=\"alert\">Alert</option>\n              </select>\n\n              <select\n                value={typeFilter}\n                onChange={(e) => setTypeFilter(e.target.value)}\n                className=\"flex-1 px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white\"\n              >\n                <option value=\"all\">All Types</option>\n                <option value=\"car\">Car</option>\n                <option value=\"bus\">Bus</option>\n                <option value=\"truck\">Truck</option>\n                <option value=\"van\">Van</option>\n                <option value=\"motorcycle\">Motorcycle</option>\n                <option value=\"other\">Other</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {filteredVehicles.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <p className=\"text-slate-400 mb-4\">No vehicles found</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredVehicles.map((vehicle) => (\n              <div\n                key={vehicle.id}\n                onClick={() => router.push(`/vehicles/${vehicle.id}`)}\n                className=\"bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-blue-500/50 transition-all cursor-pointer\"\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div>\n                    <h3 className=\"text-lg font-bold text-white\">\n                      {vehicle.brand} {vehicle.model}\n                    </h3>\n                    <p className=\"text-sm text-slate-500\">\n                      {vehicle.registration_number}\n                    </p>\n                  </div>\n                  <span\n                    className={`px-3 py-1 rounded-full text-xs font-medium border ${getStatusColor(\n                      vehicle.status\n                    )}`}\n                  >\n                    {vehicle.status}\n                  </span>\n                </div>\n\n                <div className=\"space-y-2 text-sm text-slate-400\">\n                  <p>\n                    <span className=\"text-slate-500\">Tracker ID:</span>{\" \"}\n                    {vehicle.tracker_id}\n                  </p>\n                  <p>\n                    <span className=\"text-slate-500\">Type:</span>{\" \"}\n                    <span className=\"capitalize\">{vehicle.vehicle_type}</span>\n                  </p>\n                  <p>\n                    <span className=\"text-slate-500\">Driver:</span>{\" \"}\n                    {getDriver(vehicle.assigned_driver_id)?.full_name ||\n                      \"No driver assigned\"}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/search.js","sources":["file:///Users/sarahasif/Documents/Software%20Codes/my-tracking%20app/node_modules/lucide-react/src/icons/search.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAoB,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACjD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAU;YAAE,CAAA,CAAA,CAAA,CAAI,IAAA,CAAA;YAAM,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAG,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAA,CAAA,CAAK,QAAA;QAAA,CAAU;KAAA;CAC1D;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,MAAA,CAAA,CAAA,KAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}